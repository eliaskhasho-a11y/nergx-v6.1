
:root{
  --bg:#f7f8fa; --panel:#ffffff; --text:#0f172a; --muted:#475569;
  --brand:#2563eb; --soft:#eef2ff; --border:#e5e7eb; --ok:#22c55e; --warn:#f59e0b;
  --shadow:0 10px 30px rgba(15,23,42,.08);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font:14px/1.45 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color:var(--text); background:radial-gradient(1200px 600px at 70% -10%, #eaf2ff 0%, transparent 70%), var(--bg);
}
.app{display:grid; grid-template-columns: 260px 1fr; min-height:100%}
aside{
  padding:18px; border-right:1px solid var(--border); backdrop-filter:saturate(180%) blur(6px);
  position:sticky; top:0; height:100vh; background:linear-gradient(180deg,#ffffffd9,#ffffffcc);
}
.brand{display:flex; gap:10px; align-items:center; margin-bottom:14px}
.brand .logo{width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,#60a5fa,#2563eb)}
.brand .t{font-weight:700}
.small{font-size:11px;color:var(--muted)}
nav{display:flex;flex-direction:column;gap:8px;margin-top:12px}
nav a{
  text-decoration:none; color:var(--text); padding:10px 12px; border-radius:12px; display:flex; align-items:center; gap:10px;
}
nav a.active, nav a:hover{background:var(--soft)}
main{padding:24px 28px}
.grid{display:grid; gap:16px}
.kpis{grid-template-columns: repeat(3, minmax(220px,1fr))}
.card{
  background:var(--panel); border:1px solid var(--border); border-radius:18px; box-shadow:var(--shadow);
}
.card .hd{padding:14px 16px;border-bottom:1px solid var(--border);font-weight:600}
.card .bd{padding:16px}
.kpi{font-size:22px; font-weight:800; letter-spacing:.3px}
.sub{color:var(--muted); font-size:12px}
.flex{display:flex;gap:12px; align-items:center; flex-wrap:wrap}
.right{margin-left:auto}
.badge{background:#eef2ff;border:1px solid var(--border); padding:4px 8px; border-radius:999px; font-size:12px}
.btn{border:1px solid var(--border); background:#fff; padding:8px 10px; border-radius:12px; cursor:pointer}
.btn.brand{border-color:#c7d2fe;background:linear-gradient(180deg,#f8fafc,#eef2ff)}
.input{width:100%;border:1px solid var(--border); padding:10px 12px; border-radius:12px; background:#fff}
.table{width:100%; border-collapse:collapse; font-size:13px}
.table th,.table td{padding:10px 12px; border-bottom:1px solid var(--border); text-align:left}
.row{display:grid;grid-template-columns:repeat(12,1fr); gap:16px}
.col-8{grid-column: span 8}
.col-4{grid-column: span 4}
.sticky-bottom{position:sticky; bottom:24px}
.smallmuted{color:var(--muted); font-size:12px}
.canvas{width:100%; height:220px; display:block}
#mapCanvas{width:100%; height:360px; background: repeating-linear-gradient(0deg, #fafafa, #fafafa 24px, #f1f5f9 25px) }
.marker{position:absolute; width:10px;height:10px; border-radius:999px; background:#ef4444; border:2px solid #fff; box-shadow:0 2px 8px rgba(0,0,0,.15)}
.toolbar{display:flex; gap:8px; margin-bottom:8px}
.flow-stage{border:1px dashed var(--border); background:#fbfdff; min-height:360px; border-radius:16px; position:relative; overflow:hidden}
.node{position:absolute; padding:10px 12px; background:#ffffff; border:1px solid var(--border); border-radius:12px; box-shadow:var(--shadow); cursor:grab}
.codebox{font-family: ui-monospace,SFMono-Regular,Menlo,monospace; font-size:12px; background:#0f172a; color:#e2e8f0; border-radius:12px; padding:12px}
footer{padding:12px 18px; color:var(--muted)}
@media (max-width:1024px){
  .app{grid-template-columns:1fr}
  aside{position:relative; height:auto}
  .kpis{grid-template-columns: 1fr}
}
