<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MergX 6.2 ‚Äî Dark (Vercel Ready)</title>
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self' https://www.openstreetmap.org; img-src 'self' data: https://*; style-src 'self' 'unsafe-inline'; frame-src https://www.openstreetmap.org; script-src 'self'; base-uri 'self'; form-action 'self'">
  <style>
    :root{
      --bg:#0b1220; --panel:#0f172a; --text:#f2f4f8; --muted:#a3adc2;
      --brand:#70a5ff; --teal:#17d6d0; --ok:#34d399; --warn:#fbbf24; --bad:#f87171; --soft:#16223c;
      --glass: rgba(17,24,39,.76); --ring:#1f2a44;
      --card-shadow: 0 10px 28px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0; background: radial-gradient(1200px 700px at 85% -10%, var(--soft), transparent 70%),
                 linear-gradient(180deg, var(--bg), var(--bg));
      color:var(--text); font: 15px/1.55 ui-sans-serif,-apple-system,Segoe UI,Roboto,Inter,system-ui;
    }
    .app{display:grid; grid-template-columns: 248px 1fr; min-height:100%}
    aside{padding:18px 16px; border-right:1px solid var(--ring); background:var(--panel); position:sticky; top:0; height:100vh}
    .brand{display:flex; align-items:center; gap:10px; margin-bottom:10px}
    .brand img{width:32px; height:32px; border-radius:8px}
    .badge{margin-left:auto; font-size:12px; padding:4px 8px; border-radius:999px; background:#0e2239; color:#8fb9ff}
    nav{display:flex; flex-direction:column; gap:6px; margin:10px 0 16px}
    .navbtn{padding:10px 12px; border-radius:12px; color:var(--text); text-decoration:none; display:flex; align-items:center; gap:10px; border:1px solid transparent}
    .navbtn:hover{background:var(--glass); backdrop-filter:blur(14px); border-color:var(--ring)}
    .section{margin-top:10px; font-size:12px; color:var(--muted)}
    main{padding:22px; display:grid; gap:18px}
    .grid{display:grid; gap:16px}
    .grid.cols-3{grid-template-columns: repeat(3,1fr)}
    .grid.cols-2{grid-template-columns: 1.6fr 1fr}
    .card{background:var(--glass); backdrop-filter:blur(14px); border:1px solid var(--ring); border-radius:16px; box-shadow:var(--card-shadow); padding:16px; position:relative; overflow:hidden}
    .card.clickable{cursor:pointer}
    .title{font-weight:700; letter-spacing:.2px}
    .muted{color:var(--muted)} .kpi{font-size:28px; font-weight:800; margin-top:6px}
    .sub{font-size:12px; color:var(--muted)}
    .chart{width:100%; height:160px}
    .card.expanded{grid-column:1 / -1; min-height:320px; padding-bottom:18px}
    .closeX{position:absolute; top:10px; right:10px; border:none; background:transparent; color:var(--muted); font-size:18px; cursor:pointer}
    .coach{position:fixed; right:18px; bottom:18px; width:360px; z-index:40}
    .coach .card{padding-bottom:8px}
    .pulse{position:absolute; inset:-20%; background: radial-gradient(closest-side, rgba(23,214,208,.35), transparent 70%), radial-gradient(closest-side, rgba(47,125,225,.35), transparent 70%); animation:float 5s ease-in-out infinite; pointer-events:none; filter:blur(24px); opacity:.55}
    @keyframes float{0%{transform:translateY(0)} 50%{transform:translateY(10px)} 100%{transform:translateY(0)}}
    .msgs{max-height:200px; overflow:auto; display:flex; flex-direction:column; gap:8px}
    .msg{font-size:13px; background:#0c1426; border:1px solid var(--ring); border-radius:10px; padding:8px 10px}
    .msg.me{align-self:flex-end; background:#10324a; color:#d9f2ff}
    .inputrow{display:flex; gap:8px; margin-top:10px}
    .inputrow input{flex:1; border-radius:10px; border:1px solid var(--ring); background:#0c1426; color:var(--text); padding:10px}
    .inputrow button{border-radius:10px; border:1px solid var(--ring); background:var(--brand); color:#fff; padding:10px 12px; cursor:pointer}
    .notislist{max-height:240px; overflow:auto; display:flex; flex-direction:column; gap:6px}
    .notis{font-size:13px; padding:8px 10px; border:1px solid var(--ring); border-radius:8px; background:#0c1426}
    .pill{display:inline-block; font-size:11px; padding:2px 6px; border-radius:999px; margin-left:8px; background:#0c2038; color:#9dc3ff}
    .tag{display:inline-block; font-size:12px; padding:2px 6px; border-radius:8px; border:1px solid var(--ring)}
    .ok{color:#34d399} .warn{color:#fbbf24} .bad{color:#f87171}
    .map{border:1px solid var(--ring); border-radius:12px; overflow:hidden; width:100%; height:220px}
    .chips{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
    .chip{font-size:12px; padding:4px 8px; border-radius:10px; border:1px solid var(--ring); background:#0c1426; color:#9fb0c7}
    .toolbar{display:flex; gap:10px; align-items:center; margin-top:8px}
    .select{border:1px solid var(--ring); background:#0c1426; color:var(--text); border-radius:10px; padding:6px 8px}
    .footerinfo{font-size:12px; color:var(--muted); margin-top:6px}
    @media (max-width:1024px){.app{grid-template-columns:1fr} aside{position:static; height:auto} .coach{width:94%; right:3%; bottom:10px} .grid.cols-3{grid-template-columns:1fr} .grid.cols-2{grid-template-columns:1fr}}
  </style>
</head>
<body data-theme="dark">
<div class="app">
  <aside>
    <div class="brand">
      <img alt="MergX" src="./assets/mergx-logo.svg" />
      <div>
        <div style="font-weight:800">MergX</div>
        <div class="muted" style="font-size:12px">Base 6.2 (Dark)</div>
      </div>
      <div class="badge">AI On</div>
    </div>

    <nav>
      <a class="navbtn" href="#/dashboard">üè† √ñversikt</a>
      <a class="navbtn" href="#/crm">üë• Kunder / CRM</a>
      <a class="navbtn" href="#/inventory">üì¶ Produkter / Lager</a>
      <a class="navbtn" href="#/orders">üßæ Order / Faktura</a>
      <a class="navbtn" href="#/files">üóÇÔ∏è Filer / OCR</a>
      <a class="navbtn" href="#/employees">üë§ Anst√§llda</a>
      <a class="navbtn" href="#/chat">üí¨ Chatt</a>
      <a class="navbtn" href="#/settings">‚öôÔ∏è Inst√§llningar</a>
    </nav>

    <div class="section">Tema & Spr√•k</div>
    <div class="toolbar">
      <label class="muted">Tema</label>
      <select id="themeSel" class="select">
        <option value="dark" selected>M√∂rkt</option>
        <option value="light">Ljust</option>
      </select>
    </div>
    <div class="toolbar">
      <label class="muted">Spr√•k</label>
      <select id="langSel" class="select">
        <option value="sv">Svenska</option>
        <option value="en">English</option>
        <option value="th">‡πÑ‡∏ó‡∏¢</option>
      </select>
    </div>
    <div class="footerinfo">v6.2 ¬∑ Enterprise Full Sync</div>
  </aside>

  <main id="view"></main>
</div>

<div class="coach" id="coach">
  <div class="card">
    <div class="pulse"></div>
    <h4>AI Coach <span style="color:var(--ok)">‚Ä¢</span></h4>
    <div class="msgs" id="coachMsgs"></div>
    <div class="inputrow">
      <input id="coachInput" placeholder="Skriv ett meddelande‚Ä¶" />
      <button id="coachSend">‚û§</button>
    </div>
  </div>
</div>

<script src="./public/js/settings.js"></script>
<script src="./public/js/main.js"></script>
<script src="./public/js/dashboard.js"></script>
<script src="./public/js/customers.js"></script>
<script src="./public/js/inventory.js"></script>
<script src="./public/js/orders.js"></script>
<script src="./public/js/files.js"></script>
<script src="./public/js/employees.js"></script>
<script src="./public/js/chat.js"></script>
</body>
</html>