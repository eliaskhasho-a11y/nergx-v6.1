<section class="dashboard">

  <!-- KPI Cards -->
  <div class="kpi-row">
    <div class="kpi-card">
      <h4>OmsÃ¤ttning (idag)</h4>
      <p class="value">125 000 kr</p>
      <p class="change up">+ 6 %</p>
    </div>
    <div class="kpi-card">
      <h4>Ordrar (idag)</h4>
      <p class="value">34</p>
      <p class="change up">+ 2 %</p>
    </div>
    <div class="kpi-card">
      <h4>Kostnader (idag)</h4>
      <p class="value">41 000 kr</p>
      <p class="change down">â€“ 1.1 %</p>
    </div>
    <div class="kpi-card">
      <h4>Bruttomarginal</h4>
      <p class="value">41 %</p>
      <p class="change up">+ 0.3 pp</p>
    </div>
  </div>

  <!-- Ekonomi-graf -->
  <div class="card large">
    <h3>Ekonomi â€” kompositchart</h3>
    <canvas id="chartEconomy"></canvas>
  </div>

  <!-- AI-Analys -->
  <div class="card ai-card">
    <h3>AI-Analys</h3>
    <p>FÃ¶rsÃ¤ljningen Ã¶kar 12 % i norra Stockholm. HÃ¶gst efterfrÃ¥gan pÃ¥ USB-C 60 W.</p>
  </div>

  <!-- AI-Karta + Teamchatt -->
  <div class="split">
    <div class="card half">
      <h3>AI-Karta (mini)</h3>
      <div id="map" style="height: 250px;"></div>
      <ul>
        <li>Elon Kista â€” Potentiell order om 20 dagar</li>
        <li>Mekonomen Solna â€” Befintlig kund</li>
        <li>Power Barkarby â€” Bra lÃ¤ge fÃ¶r demo</li>
      </ul>
    </div>

    <div class="card half">
      <h3>Teamchatt</h3>
      <div class="chat-box">
        <div class="msg">ðŸŸ¢ God morgon teamet!</div>
        <div class="msg">ðŸ‘¤ Jag tar kundmÃ¶tet 11:00</div>
      </div>
      <input type="text" placeholder="Skriv snabbt â€¦" />
    </div>
  </div>

</section>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const ctx = document.getElementById("chartEconomy");
  if (ctx) {
    new Chart(ctx, {
      type: "bar",
      data: {
        labels: ["MÃ¥n","Tis","Ons","Tors","Fre"],
        datasets: [
          { label:"OmsÃ¤ttning", data:[180,200,220,210,230], backgroundColor:"rgba(80,150,255,0.5)" },
          { label:"Kostnader", data:[100,110,105,115,120], backgroundColor:"rgba(255,100,120,0.4)" }
        ]
      },
      options: { responsive:true, plugins:{ legend:{labels:{color:"#fff"}}}, scales:{x:{ticks:{color:"#aaa"}}, y:{ticks:{color:"#aaa"}}}}
    });
  }
});
</script>
